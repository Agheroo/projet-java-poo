\hypertarget{_attack_8java_source}{}\doxysection{Attack.\+java}
\label{_attack_8java_source}\index{src/game/Attack.java@{src/game/Attack.java}}
\mbox{\hyperlink{_attack_8java}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00001}\mbox{\hyperlink{namespacegame}{00001}} \textcolor{keyword}{package }game;}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00002}00002 \textcolor{keyword}{import} \mbox{\hyperlink{namespaceentity}{entity}}.\mbox{\hyperlink{classentity_1_1_character}{Character}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00004}\mbox{\hyperlink{classgame_1_1_attack}{00004}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{classgame_1_1_attack}{Attack}} \{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00005}\mbox{\hyperlink{classgame_1_1_attack_a0cf4e772eb2640ad3c88dfba8f685929}{00005}}     \textcolor{keyword}{public} \textcolor{keyword}{final} String \mbox{\hyperlink{classgame_1_1_attack_a0cf4e772eb2640ad3c88dfba8f685929}{name}};     \textcolor{comment}{//The name of the attack}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00006}\mbox{\hyperlink{classgame_1_1_attack_a644b567caf6a9274c0b4737866ae60db}{00006}}     \textcolor{keyword}{public} \textcolor{keyword}{final} \textcolor{keywordtype}{int} \mbox{\hyperlink{classgame_1_1_attack_a644b567caf6a9274c0b4737866ae60db}{damage}};      \textcolor{comment}{//The damage of the attack dealt}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00007}\mbox{\hyperlink{classgame_1_1_attack_a8bc6ddb6e33f6b049a101e4167f91b6e}{00007}}     \textcolor{keyword}{public} \textcolor{keyword}{final} \textcolor{keywordtype}{int} \mbox{\hyperlink{classgame_1_1_attack_a8bc6ddb6e33f6b049a101e4167f91b6e}{cost}};        \textcolor{comment}{//The cost in mana if any}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00008}\mbox{\hyperlink{classgame_1_1_attack_af2e6657a251b923cc9a17066bf843bc0}{00008}}     \textcolor{keyword}{public} \textcolor{keyword}{final} \textcolor{keywordtype}{int} \mbox{\hyperlink{classgame_1_1_attack_af2e6657a251b923cc9a17066bf843bc0}{unlockLvl}}; \textcolor{comment}{//The level at which the attack gets unlocked if not unlocked}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00009}\mbox{\hyperlink{classgame_1_1_attack_a8853f742946af18d58a3b33e1176f5aa}{00009}}     \textcolor{keyword}{public} \textcolor{keywordtype}{boolean} \mbox{\hyperlink{classgame_1_1_attack_a8853f742946af18d58a3b33e1176f5aa}{unlocked}};    \textcolor{comment}{//If the attack is unlocked or not yet}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00011}\mbox{\hyperlink{classgame_1_1_attack_a7177fd8d2640b207e15f883931de675a}{00011}}     \textcolor{keyword}{public} \mbox{\hyperlink{classgame_1_1_attack_a7177fd8d2640b207e15f883931de675a}{Attack}}(String \mbox{\hyperlink{classgame_1_1_attack_a0cf4e772eb2640ad3c88dfba8f685929}{name}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{classgame_1_1_attack_a644b567caf6a9274c0b4737866ae60db}{damage}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{classgame_1_1_attack_a8bc6ddb6e33f6b049a101e4167f91b6e}{cost}}, \textcolor{keywordtype}{boolean} \mbox{\hyperlink{classgame_1_1_attack_a8853f742946af18d58a3b33e1176f5aa}{unlocked}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{classgame_1_1_attack_af2e6657a251b923cc9a17066bf843bc0}{unlockLvl}})\{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00012}00012         this.unlockLvl = \mbox{\hyperlink{classgame_1_1_attack_af2e6657a251b923cc9a17066bf843bc0}{unlockLvl}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00013}00013         this.name = \mbox{\hyperlink{classgame_1_1_attack_a0cf4e772eb2640ad3c88dfba8f685929}{name}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00014}00014         this.damage = \mbox{\hyperlink{classgame_1_1_attack_a644b567caf6a9274c0b4737866ae60db}{damage}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00015}00015         this.cost = \mbox{\hyperlink{classgame_1_1_attack_a8bc6ddb6e33f6b049a101e4167f91b6e}{cost}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00016}00016         this.unlocked = \mbox{\hyperlink{classgame_1_1_attack_a8853f742946af18d58a3b33e1176f5aa}{unlocked}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00017}00017     \}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00024}\mbox{\hyperlink{classgame_1_1_attack_a82fc9edb6fb83a16aa0d73c03501841e}{00024}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{classgame_1_1_attack_a82fc9edb6fb83a16aa0d73c03501841e}{applyAttack}}(\mbox{\hyperlink{classentity_1_1_character}{Character}} emitter, \mbox{\hyperlink{classentity_1_1_character}{Character}} reciever)\{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00025}00025         \textcolor{comment}{//Find a nice equation to balance a bit the game and add a dodge chance with agility}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00026}00026         \textcolor{comment}{//Also find a interval "{}crit chance"{} maybe to make it more interesting}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00027}00027         }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00028}00028         \textcolor{keywordtype}{double} dodgeChange = 1 -\/ Math.exp(-\/0.005*reciever.\mbox{\hyperlink{classentity_1_1_character_ae6dea43904c63b70961d9b7b412575a9}{agility}});  \textcolor{comment}{//Equation for dodge chance of the attack (30 agility = 0.15 dodge chance)}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00029}00029         }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00031}00031         \textcolor{keywordflow}{if}(emitter.\mbox{\hyperlink{classentity_1_1_character_a739de76015650bfb302e42a0b2069771}{mana}} >= \mbox{\hyperlink{classgame_1_1_attack_a8bc6ddb6e33f6b049a101e4167f91b6e}{cost}})\{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00032}00032             \textcolor{keywordflow}{if}(Math.random() > dodgeChange)\{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00033}00033                 \textcolor{keywordtype}{int} dmgDealt = (int)(\mbox{\hyperlink{classgame_1_1_attack_a644b567caf6a9274c0b4737866ae60db}{damage}}*(1+(emitter.\mbox{\hyperlink{classentity_1_1_character_a59d53e55d7c7d77f86fd646728eb6746}{strength}}*\mbox{\hyperlink{classgame_1_1_attack_a644b567caf6a9274c0b4737866ae60db}{damage}}*0.6)/(reciever.\mbox{\hyperlink{classentity_1_1_character_ad97a3b4055ba1daa2abfbb1150f34049}{defense}}*2.4)));}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00035}00035                 reciever.health -\/= dmgDealt;}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00036}00036             \}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00037}00037             \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00038}00038                 System.out.println(reciever.\mbox{\hyperlink{classentity_1_1_entity_a19fc9a3b25d27f23c8ada7af8e746a17}{name}} + \textcolor{stringliteral}{"{} a esquivé "{}} + emitter.\mbox{\hyperlink{classentity_1_1_entity_a19fc9a3b25d27f23c8ada7af8e746a17}{name}});}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00039}00039             \}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00040}00040             emitter.mana -\/= \mbox{\hyperlink{classgame_1_1_attack_a8bc6ddb6e33f6b049a101e4167f91b6e}{cost}};}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00041}00041         \}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00042}00042         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00043}00043             emitter.mana = 0;}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00044}00044             System.out.println(\textcolor{stringliteral}{"{}Vous avez tout donné... mais vous n'aviez pas assez de mana"{}});}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00045}00045         \}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00046}00046     \}}
\DoxyCodeLine{\Hypertarget{_attack_8java_source_l00047}00047 \}}

\end{DoxyCode}
